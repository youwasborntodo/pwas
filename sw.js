/* minified */
const e="pwas[index]@2020-1-11|19:49:43",t=["static/pwa/icons/apple-icon.png","static/pwa/icons/icon_ss.png","static/pwa/icons/apple-icon.png","static/pwa/icons/icon_ss.png","./style.css","app.a5d34gk6j24fd8fg3.js","manifest.json?t=1578743354369","/img/emoji1.gif","/img/emoji2.gif","/img/emoji3.gif","/img/emoji4.gif","static/pwa/entry_sw.js","index.html"],n=[];self.addEventListener("install",n=>{console.info("installing........."),n.waitUntil(caches.open(e).then(e=>{t.forEach((n,s)=>{e.add(n).then(()=>{s==t.length-1&&(console.info("files installed"),self.skipWaiting())}).catch(e=>{console.error(e)})})}))}),self.addEventListener("error",e=>{console.error("error==>",e)}),self.addEventListener("unhandledrejection",e=>{console.error(" 跨域加载资源缓存失败，暂不支持跨域资源==>",e)}),self.addEventListener("activate",t=>{console.info("service worker "+e+" is running!"),t.waitUntil(void caches.keys().then(t=>Promise.all(t.filter(t=>{if(!t.includes("@"))return t!=e;{const n=t.split("@")[1],s=t.split("@")[0],i=e.split("@")[0],r=e.split("@")[1];if(s==i)return n!=r}}).map(e=>caches.delete(e)))).catch(e=>{console.error(e)}))}),self.addEventListener("fetch",t=>{"GET"===t.request.method&&t.respondWith(caches.match(t.request).then(s=>{if(s)return s;let i=t.request.clone();return fetch(i).then(s=>{if(!s||200!=s.status||"basic"!=s.type)return s;const r=s.clone(),c=i.url.replace(i.referrer,"/").split("/"),o=c[c.length-1].split("?")[0];return n.includes(o)||caches.open(e).then(e=>{e.put(t.request,r)}),s})}))});